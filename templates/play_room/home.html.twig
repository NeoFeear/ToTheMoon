{% extends "template1.html.twig" %}

{% block css %}
    <style>
        #results {
            border: 1px dotted #ccc;
            padding: 3px;
        }
        #results ul {
            list-style-type: none;
            padding: 0;
            margin: 0;
        }
        #results ul li {
            padding: 5px 0;
        }
        #results ul li:hover {
            background: #eee;
        }
    </style>
{% endblock %}

{% block body %}
    {% if session.logged is not defined %}
        <div class="d-flex justify-content-center">
            <lottie-player src="https://assets7.lottiefiles.com/packages/lf20_ZQhQzO.json" mode="bounce"
                background="transparent" speed="1" style="width:90%; max-width: 550px;" loop autoplay>
            </lottie-player>
        </div>

        <button class="btn btn-lg btn-warning m-5 fw-bold" onclick="location.href='/login'">COMMENCER UNE PARTIE</button>

    {% else %}

        <div class="col-12 mb-5">
            <h1 id="test">Bienvenue {{ session.logged.username }} !</h1>
            <h4>
                Vous devez inviter vos amis à jouer une partie avec vous.<br>
                Pour cela, inscrivez le pseudo de vos amis dans les champs suivant.<br>
                Bon jeu à vous !
            </h4>

            <div hidden>
                <ul id="usersList">
                    {% for user in users %}
                        <li id="{{ user.id }}">{{ user.username }}</li>
                    {% endfor %}
                </ul>
            </div>

        </div>

        <div class="container w-50">
            <form action="POST">
            
                {% for i in 1..6 %}
                    <div class="row mb-3">
                        <div class="col form-group d-flex">
                            <input type="text" class="form-control" id="player{{i}}" placeholder="Pseudo du joueur {{i}}" />
                            <div id="results"></div>
                            <select id="colorPicker{{i}}">
                                <option value="none" name="color-input" selected disabled hidden>Selected Color</option>
                            </select>
                        </div>
                    </div>
                {% endfor %}

                <button class="btn btn-warning btn-lg fw-bolder">ENVOYER</button>
            </form>
        </div>
    {% endif %}
{% endblock %}