{% extends "template1.html.twig" %}

{% block body %}

    {% if session.logged is not defined %}

        <div class="d-flex justify-content-center">  
            <lottie-player src="https://assets7.lottiefiles.com/packages/lf20_ZQhQzO.json" 
                mode="bounce" 
                background="transparent" 
                speed="1" 
                style="width:90%; max-width: 550px;" 
                loop autoplay>
            </lottie-player>
        </div>

        <button class="btn btn-lg btn-warning m-5 fw-bold" onclick="location.href='/login'">SE CONNECTER</button>

    {% else %}

        <div class="d-flex justify-content-center">  
            <lottie-player src="https://assets7.lottiefiles.com/packages/lf20_ZQhQzO.json" 
                mode="bounce" 
                background="transparent" 
                speed="1" 
                style="width:90%; max-width: 550px;" 
                loop autoplay>
            </lottie-player>
        </div>

        <h1>Bienvenue {{ session.logged.username }} !</h1>

        <div class="my-5">
            <form method="post">
                <input type="text" id="roomId" placeholder="Room ID" required>
                <button type="submit" class="btn btn-warning" id="joinRoom">Join</button>
            </form>
        </div>

    {% endif %}

{% endblock %}

{% block js %}
    <script>
        document.getElementById('joinRoom').addEventListener('click', function(e) {
            e.preventDefault();
            var roomId = document.getElementById('roomId').value;
            window.location.href = '/game/' + roomId;
        });
    </script>
{% endblock %}